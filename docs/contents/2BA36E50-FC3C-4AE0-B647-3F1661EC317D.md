# [C++][17以前] 扱いが楽になる列挙型の書き方

2025年にもなって未だにC++11の機能を使わされて仕事やめたい方、C++11以降を使ってるけど「case文でわざわざ列挙型の名前を書くなんてしたくねえよ。」と思ってる方向けの内容です。C++20以降を使える環境の方は回れ右して帰って大丈夫!!

## 結論

専用の名前空間に入れて列挙型の型名を`Type`に統一する。

## 説明

下記は方法と方向を表す列挙型の定義例です。
( enum class でいいじゃんという人、使用例みるまで帰らないで〜 )

```C++
// 方法
namespace Method
{
    enum Type
    {
        Push,
        Pull,
    };
}

// 方向
namespace Direction
{
    enum Type
    {
        Top,
        Bottom,
        Left,
        Right,
    };
}
```

続いて使用例( ここではDirectionのみ使用 )
```C++
char const *NameOf( Direction::Type value )
{
    switch( value )
    {
    	using namespace Direction;

    case Top:
        return "Top";

    case Bottom:
        return "Bottom";

    case Left:
        return "Left";

    case Right:
        return "Right";
    }
}
```

`Type`で列挙型名と考えるんじゃなく`Method::Type`や`Direction::Type`という風に名前空間を含めて列挙型名として扱うんですね。これで何が利点かと言うと使用例を見ればなんとなく解ると思いますが以下のようなものになります。

### 利点

- 列挙値の名前衝突を避けられる。[ここまではenum classと同様]
- 列挙値を使うときに列挙型名を省略できるっ!![ココ重要]

なにかしら名前に拘りがある人には辛いかもしれませんが、10年以上使えるときはこの方法を使ってきました。実運用上は何も困ることはありませんっ。大丈夫です!!
ちょっとした工夫ですが、これだけでも随分書きやすくなります。

## 蛇足

全てをひっくり返すようなことをいいますが、個人でSoftwareを書くときは、そもそも列挙型を使うことはないですね。定数objectで全て代替できますし、列挙型とswitch文を使ってるのはObject指向が理解できていない結果だと考えています。

## 関連記事

- [記事一覧](../index.md)
